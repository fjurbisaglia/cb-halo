
    <h2 mat-dialog-title>{{ data.mode === 'create' ? 'Create Insurance' : 'Edit Insurance' }}</h2>
    <mat-dialog-content>
      <form [formGroup]="insuranceForm">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="Insurance name">
          @if (insuranceForm.get('name')?.hasError('required')) {
            <mat-error>
              Name is required
            </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description" placeholder="Insurance description" rows="3"></textarea>
          @if (insuranceForm.get('description')?.hasError('required')) {
            <mat-error>
              Description is required
            </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Price per day</mat-label>
          <input matInput type="number" formControlName="pricePerDay" placeholder="0.00">
          @if (insuranceForm.get('pricePerDay')?.hasError('required')) {
            <mat-error>
              Price per day is required
            </mat-error>
          }
          @if (insuranceForm.get('pricePerDay')?.hasError('min')) {
            <mat-error>
              Price per day must be greater than or equal to 0
            </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Currency</mat-label>
          <mat-select formControlName="currency">
            <mat-option value="EUR">EUR</mat-option>
            <mat-option value="USD">USD</mat-option>
          </mat-select>
          @if (insuranceForm.get('currency')?.hasError('required')) {
            <mat-error>
              Currency is required
            </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Amount covered</mat-label>
          <input matInput type="number" formControlName="amountCovered" placeholder="0.00">
          @if (insuranceForm.get('amountCovered')?.hasError('required')) {
            <mat-error>
              Amount covered is required
            </mat-error>
          }
          @if (insuranceForm.get('amountCovered')?.hasError('min')) {
            <mat-error>
              Amount covered must be greater than or equal to 0
            </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Region</mat-label>
          <mat-select formControlName="region">
            <mat-option value="Europe">Europe</mat-option>
            <mat-option value="Worldwide">Worldwide</mat-option>
            <mat-option value="Latin America">Latin America</mat-option>
          </mat-select>
          @if (insuranceForm.get('region')!.hasError('required')) {
            <mat-error>
              Region is required
            </mat-error>
          }
        </mat-form-field>
      </form>
    </mat-dialog-content>
    <mat-dialog-actions align="end" class="dialog-actions">
      <button mat-button (click)="onCancel()">Cancel</button>
      <button mat-raised-button color="primary" (click)="onSave()" [disabled]="!insuranceForm.valid">
        {{ data.mode === 'create' ? 'Create' : 'Save' }}
      </button>
    </mat-dialog-actions>
